<section 
class="max-w-screen-xl w-11/12 md:w-4/6 mx-auto my-15 flex flex-col md:justify-center items-center gap-12"
>

    <h1 
    class="text-xl md:text-3xl uppercase"
    >
        Créer un compte
    </h1>


</section>


<div
class="w-11/12 md:w-4/6 mx-auto my-5 h-4"
>
    @if(serverError()) {
        <p class="text-xl text-rouge text-center position-absolute">
            {{serverError()}}
        </p>
    }
</div>


<!-- Subscribe Form -->

<section
class="w-11/12 md:w-4/6 mx-auto my-30"
>

    <form
    [formGroup]="form" 
    (ngSubmit)="submit()"
    class="w-full md:w-4/5 lg:w-3/5 mx-auto flex flex-col justify-center items-center"
    >   


        <!-- prénom -->
        <div
        class="w-full mb-2"
        >
            <label 
            for="firstname" 
            class="hidden"
            >
                Votre prénom
            </label>
            <input 
            formControlName="firstname" 
            type="text" 
            class="w-full rounded-xl border border-noir focus:outline-none focus:ring-2 focus:ring-vert focus:border-transparent" 
            placeholder="Votre prénom" required 
            />

            <div class="h-5 mt-1 text-sm">
                @let firstnameInput = form.controls.firstname;
                @if (firstnameInput.invalid && (firstnameInput.dirty || firstnameInput.touched)) {
                    @if (firstnameInput.hasError('required')) {
                        <span
                        class="text-rouge">
                            Le prénom est obligatoire.
                        </span>
                    }
                }
            </div>

        </div>
 

        <!-- nom -->
        <div
        class="w-full mb-2"
        >
            <label 
            for="lastname"	 
            class="hidden"
            >
                Votre nom
            </label>
            <input 
            formControlName="lastname" 
            type="text" 
            class="w-full rounded-xl border border-noir focus:outline-none focus:ring-2 focus:ring-vert focus:border-transparent" 
            placeholder="Votre nom" required 
            />

            <div class="h-5 mt-1 text-sm">
                @let lastnameInput = form.controls.lastname;
                @if (lastnameInput.invalid && (lastnameInput.dirty || lastnameInput.touched)) {
                    @if (lastnameInput.hasError('required')) {
                        <span
                        class="text-rouge">
                            Le nom est obligatoire.
                        </span>
                    }
                }
            </div>
        </div>
    
        
        <!-- Email -->
        <div
        class="w-full mb-2"
        >
            <label 
            for="email"	 
            class="hidden"
            >
                Votre email
            </label>
            <input 
            formControlName="email" 
            type="email" 
            class="w-full rounded-xl border border-noir focus:outline-none focus:ring-2 focus:ring-vert focus:border-transparent" 
            placeholder="Votre email" required 
            />

            <div class="h-5 mt-1 text-sm">
                @let emailInput = form.controls.email;
                @if (emailInput.invalid && (emailInput.dirty || emailInput.touched)) {
                    @if (emailInput.hasError('required')) {
                        <span
                        class="text-rouge">
                            Votre email est obligatoire.
                        </span>
                    }
                    @if (emailInput.hasError('email')) {
                        <span
                        class="text-rouge">
                            Le champ doit contenir un email valide.
                        </span>
                    }
                }
            </div>

        </div>


        <!-- Téléphone mobile -->
        <div
        class="w-full mb-2"
        >
            <label 
            for="mobile"	 
            class="hidden"
            >
                Votre téléphone mobile
            </label>
            <input 
            formControlName="mobile" 
            type="tel" 
            class="mx-auto mb-5 rounded-xl border border-noir px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-vert focus:border-transparent" 
            placeholder="Votre portable" required 
            />


            <div class="h-5 mt-1 text-sm">
                @let mobileInput = form.controls.mobile;
                @if (mobileInput.invalid && (mobileInput.dirty || mobileInput.touched)) {
                    @if (mobileInput.hasError('required')) {
                        <span
                        class="text-rouge">
                            Votre téléphone mobile est obligatoire.
                        </span>
                    }
                    @if (mobileInput.hasError('pattern')) {
                        <span
                        class="text-rouge">
                            Le champ doit contenir un numéro de téléphone valide.
                        </span>
                    }
                }
            </div>

        </div>


        <!-- Mot de passe -->
        <div
        class="w-full"
        >
            <label 
            for="password"	 
            class="hidden"
            >
                Votre mot de passe
            </label>
            <input 
            formControlName="password" 
            type="password" 
            class="mx-auto mb-5 rounded-xl border border-noir px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-vert focus:border-transparent" 
            placeholder="Votre mot de passe" required 
            />

        </div>

        <!-- Confirmation du mot de passe -->
        <label 
        for="password_confirmation"	 
        class="hidden"
        >
            Votre mot de passe (confirmation)
        </label>
        <input 
        formControlName="password_confirmation" 
        type="password" 
        class="mx-auto mb-5 rounded-xl border border-noir px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-vert focus:border-transparent" 
        placeholder="Confirmation de votre mot de passe" required 
        />

        <div class="text-rouge mb-4" *ngIf="form.errors?.['PasswordNoMatch']">
                Les mots de passe ne correspondent pas.
        </div>



        <button 
        type="submit" 
        [disabled]="form.invalid"
        class="mt-8 uppercase cursor-pointer bg-noir text-blanc px-4 py-2 rounded-md border border-vert ease-in-out duration-200 hover:drop-shadow-2xl hover:text-vert"
        >
            Créer un compte
        </button>


         

 <!--   
        <label 
        for="address"	 
        class="hidden"
        >
            Votre adresse
        </label>
        <input 
        formControlName="address" 
        type="text" 
        class="mx-auto mb-5 rounded-xl border border-noir px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-vert focus:border-transparent" 
        placeholder="Votre adresse" required 
        />

        <div
        class="w-full mb-5 flex justify-between items-center gap-3 flex-col md:flex-row"
        >
            <div
            class="w-full md:w-1/2"
            >
                <label 
                for="city"	 
                class="hidden"
                >
                    Votre ville
                </label>
                <input 
                formControlName="city" 
                type="text" 
                class="w-full rounded-xl border border-noir px-4 py-2 focus:outline-none focus:ring-2 focus:ring-vert focus:border-transparent" 
                placeholder="Votre ville" required 
                />
            </div>

            <div
            class="w-full md:w-1/2"
            >
                <label 
                for="zipcode"	 
                class="hidden"
                >
                    Votre code postal
                </label>
                <input 
                formControlName="zipcode" 
                type="number" 
                class="w-full rounded-xl border border-noir px-4 py-2 focus:outline-none focus:ring-2 focus:ring-vert focus:border-transparent" 
                placeholder="Votre code postal" required 
                />
            </div>
        </div> 
-->
    

    </form>

</section>
