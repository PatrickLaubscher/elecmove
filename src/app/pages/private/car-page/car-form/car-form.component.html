
<div
class="w-11/12 md:w-4/6 mx-auto my-5 h-4"
>
    @if(serverError()) {
        <p class="text-xl text-rouge text-center position-absolute">
            {{serverError()}}
        </p>
    }
</div>


<!-- Car Form -->

<section
class="mx-auto dark:text-gray-200"
>

    <form
    [formGroup]="form"
    (ngSubmit)="submit()"
    class="w-5/6 mx-auto flex flex-col justify-center items-center"
    >   


        <!-- Brand -->
        <div
        class="w-full mb-2"
        >
            <label
            for="brand"
            class="hidden"
            >
                Marque de la voiture
            </label>
            <input
            formControlName="brand"
            type="text"
            class="w-full rounded-xl border border-noir focus:outline-none focus:ring-2 focus:ring-vert focus:border-transparent dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200"
            placeholder="Marque de votre voiture" required
            />

            <div class="h-5 mt-1 text-sm">
                @let brandInput = form.controls.brand;
                @if (brandInput.invalid && (brandInput.dirty || brandInput.touched)) {
                    @if (brandInput.hasError('required')) {
                        <span
                        class="text-rouge">
                            La marque est obligatoire.
                        </span>
                    }
                }
            </div>

        </div>
 

        <!-- Type of car -->
        <div
        class="w-full mb-2"
        >
            <label
            for="type"
            class="hidden"
            >
                Le modèle de votre voiture
            </label>
            <input
            formControlName="type"
            type="text"
            class="w-full rounded-xl border border-noir focus:outline-none focus:ring-2 focus:ring-vert focus:border-transparent dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200"
            placeholder="Le modèle de votre voiture" required
            />

            <div class="h-5 mt-1 text-sm">
                @let typeInput = form.controls.type;
                @if (typeInput.invalid && (typeInput.dirty || typeInput.touched)) {
                    @if (typeInput.hasError('required')) {
                        <span
                        class="text-rouge">
                            Le modèle est obligatoire.
                        </span>
                    }
                }
            </div>
        </div>


        <!-- Register number -->
        <div
        class="w-4/5 mb-2"
        >
            <label
            for="registration"
            class="hidden"
            >
                Votre plaque d'immatriculation
            </label>
            <input
            formControlName="registration"
            type="text"
            class="mx-auto mb-5 rounded-xl border border-noir px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-vert focus:border-transparent dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200"
            placeholder="Numéro d'immatriculation" required
            />


            <div class="h-5 mt-1 text-sm">
                @let registrationInput = form.controls.registration;
                @if (registrationInput.invalid && (registrationInput.dirty || registrationInput.touched)) {
                    @if (registrationInput.hasError('required')) {
                        <span
                        class="text-rouge">
                            L'immatriculation est obligatoire.
                        </span>
                    }
                    @if (registrationInput.hasError('pattern')) {
                        <span
                        class="text-rouge">
                            Le champ doit contenir un numéro d'immatriculation valide.
                        </span>
                    }
                }
            </div>

        </div>

        <button
        type="submit"
        [disabled]="form.invalid"
        class="mt-8 uppercase cursor-pointer bg-noir text-blanc px-4 py-2 rounded-md border border-vert ease-in-out duration-200 hover:drop-shadow-2xl hover:text-vert dark:bg-gray-800 dark:text-gray-200"
        >
            Rajouter la voiture
        </button>

    </form>

</section>

